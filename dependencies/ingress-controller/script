helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx  
helm repo update 



helm install ingress-nginx ingress-nginx/ingress-nginx   --create-namespace   --namespace ingress-nginx   --set controller.service.externalTrafficPolicy=Local   --set controller.publishService.enabled=true


kubectl patch svc ingress-nginx-controller  \
  -n ingress-nginx  \
  -p '{"spec":{"type": "LoadBalancer"}}' 

kubectl patch svc ingress-nginx-controller  \
  -n ingress-nginx \
  -p '{"metadata":{"annotations":{"service.beta.kubernetes.io/azure-load-balancer-internal":"true"}}}'




kubectl get ingress -A
kubectl get pods -n quilr  -n ingress-nginx

kubectl get all -n ingress-nginx
NAME                                            READY   STATUS    RESTARTS   AGE
pod/ingress-nginx-controller-697d98659b-prmgn   1/1     Running   0          8d

NAME                                         TYPE           CLUSTER-IP     EXTERNAL-IP                                                               PORT(S)                      AGE
service/ingress-nginx-controller             LoadBalancer   172.20.53.86   xxxxxxxxxxxxxxxxxx.us-east-1.elb.amazonaws.com   80:30592/TCP,443:31990/TCP   27d
service/ingress-nginx-controller-admission   ClusterIP      172.20.66.3    <none>                                                                    443/TCP                      27d

NAME                                       READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/ingress-nginx-controller   1/1     1            1           27d

NAME                                                  DESIRED   CURRENT   READY   AGE
replicaset.apps/ingress-nginx-controller-697d98659b   1         1         1       20d
replicaset.apps/ingress-nginx-controller-78d57d8578   0         0         0       27d


kubectl get cm -n ingress-nginx
kubectl edit cm ingress-nginx-controller -n ingress-nginx
apiVersion: v1
data:
  strict-validate-path-type: "false"