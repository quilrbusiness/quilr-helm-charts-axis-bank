
https://kubernetes.github.io/ingress-nginx/user-guide/tls/

https://cert-manager.io/docs/installation/helm/

https://cert-manager.io/docs/installation/

https://cert-manager.io/docs/tutorials/acme/nginx-ingress/

https://cert-manager.io/docs/tutorials/getting-started-aks-letsencrypt/

helm repo add jetstack https://charts.jetstack.io --force-update

helm install \
  cert-manager jetstack/cert-manager \
  --namespace cert-manager \
  --create-namespace \
  --version v1.18.2 \
  --set crds.enabled=true


NAME: cert-manager
LAST DEPLOYED: Tue Jul 29 07:56:55 2025
NAMESPACE: cert-manager
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
⚠️  WARNING: New default private key rotation policy for Certificate resources.
The default private key rotation policy for Certificate resources was
changed to `Always` in cert-manager >= v1.18.0.
Learn more in the [1.18 release notes](https://cert-manager.io/docs/releases/release-notes/release-notes-1.18).

cert-manager v1.18.2 has been deployed successfully!

In order to begin issuing certificates, you will need to set up a ClusterIssuer
or Issuer resource (for example, by creating a 'letsencrypt-staging' issuer).

More information on the different types of issuers and how to configure them
can be found in our documentation:

https://cert-manager.io/docs/configuration/

For information on how to configure cert-manager to automatically provision
Certificates for Ingress resources, take a look at the `ingress-shim`
documentation:

https://cert-manager.io/docs/usage/ingress/


kubectl get pods --namespace cert-manager
NAME                                       READY   STATUS    RESTARTS   AGE
cert-manager-665948465f-fvv4s              1/1     Running   0          100s
cert-manager-cainjector-7c8f7984fb-jq6m8   1/1     Running   0          100s
cert-manager-webhook-7594bcdb99-gmt55      1/1     Running   0          100s

nano production-issuer.yaml

apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: letsencrypt-prod
spec:
  acme:
    # The ACME server URL
    server: https://acme-v02.api.letsencrypt.org/directory
    # Email address used for ACME registration
    email: aghante@quilr.ai
    # Name of a secret used to store the ACME account private key
    privateKeySecretRef:
      name: letsencrypt-prod
    # Enable the HTTP-01 challenge provider
    solvers:
      - http01:
          ingress:
            ingressClassName: nginx


kubectl apply -f production-issuer.yaml -n quilr


kubectl describe issuer letsencrypt-prod -n quilr

kubectl edit ingress quilr-ingress -n quilr

kubectl edit ingress quilr-ingress-web -n quilr



adding the annotation in ingresss

cert-manager.io/issuer: "letsencrypt-prod"


metadata:
  annotations:
    cert-manager.io/issuer: letsencrypt-prod



kubectl get certificate -n quilr

kubectl describe certificate quilr-tls-secret -n quilr

apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    cert-manager.io/issuer: "letsencrypt-prod"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
    nginx.ingress.kubernetes.io/service-upstream: "true"
    nginx.ingress.kubernetes.io/server-alias:  aa0d50208c9444befa147efb937694ea-1797818241.us-east-1.elb.amazonaws.com
  name: quilr-ingress-web
  namespace: quilr
spec:
  ingressClassName: nginx
  rules:
  - host: quilr.axisbank.com
    http:
      paths:
      - backend:
          service:
            name: quilr-web
            port:
              number: 3000
        path: /
        pathType: Prefix
  tls:
  - hosts:
    - quilr.axisbank.com
    secretName: quilr-tls-secret-prod-useast-skzzh